<html>
<head>
<script>
function loadjson(){
	var xmlhttp;
	xmlhttp = new XMLHttpRequest;
	xmlhttp.onreadystatechange = function(){
		if (xmlhttp.readyState == 4 &&  xmlhttp.status == 200){
			var html = "";
			var obj = JSON.parse(xmlhttp.responseText);
			//alert(obj.books.length);
			for (i = 0; i < obj.books.length; i++){
				html += "<h3>"+obj.books[i].book.title + "</h3><br>";
                html += "<p>By " +obj.books[i].book.author+", "+obj.books[i].book.publisher+"</p><br>";
				html += "<img src='" + obj.books[i].book.cover + "' height='256'>";	
                html += "<p>"+obj.books[i].book.blurb + "</p><br>";
			}
			document.getElementById("mydiv").innerHTML = html;
		}
	}
	xmlhttp.open("GET", "http://angsila.cs.buu.ac.th/~wittawas/592/887371/labs/get_json.php", true);
	xmlhttp.send();
}
</script>
</head>
<body>
	<div id="mydiv">
		Let AJAX change this text
	</div>
	<button type="button" onclick="loadjson()">
		change content
	</button>
</body>
</html>
